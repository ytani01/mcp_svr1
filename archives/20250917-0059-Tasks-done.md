# Tasks.md: mcp_svr1 統合タスクリスト

- [x] `Plan.md`との比較・確認

## 1. 準備

- [x] `src/mcp_svr1/cli` ディレクトリを作成する。
- [x] `src/mcp_client` 内の全ファイル (`__init__.py`, `cli.py`, `click_utils.py`, `utils.py`) を `src/mcp_svr1/cli` に移動する。
- [x] `src/mcp_client` ディレクトリを削除する。

## 2. `pyproject.toml` の修正

- [x] `[project.scripts]` から `mcp_client = "mcp_client.cli:main"` の行を削除する。
- [x] `[tool.pyright]` から `ignore = ["src/mcp_client/cli.py"]` の行を削除する。
- [x] `[tool.mypy.overrides]` から `mcp_client`関連のセクションをすべて削除する。

## 3. `__main__.py` の実装

- [x] `src/mcp_svr1/__main__.py` を読み込む。
- [x] `click` を使用して、`server` と `cli` のサブコマンドを持つコマンドグループを作成する。
  - `server` コマンド: 既存のサーバー起動ロジックを実行する。
  - `cli` コマンド: `mcp_svr1.cli.cli:main` を呼び出す。
- [x] 修正した内容で `src/mcp_svr1/__main__.py` を上書きする。

## 4. インポートパスの修正

- [x] `src/mcp_svr1/cli/cli.py` を読み込む。
- [x] `from mcp_client.` を `from mcp_svr1.cli.` に置換する。
- [x] `src/mcp_svr1/cli/utils.py` を読み込む。
- [x] `from mcp_client.` を `from mcp_svr1.cli.` に置換する（もしあれば）。

## 5. テストの修正

- [x] `tests/` ディレクトリ内のテストファイルをリストアップする。
- [x] 各テストファイルの内容を確認し、`mcp_client` を直接呼び出している箇所を特定する。
- [x] `subprocess` を使用して `uv run mcp_svr1 cli ...` を呼び出すようにテストコードを修正する。

## 6. 検証

- [x] `uv run ruff check .` を実行し、リンティングエラーを修正する。
- [x] `uv run mypy .` を実行し、型チェックエラーを修正する。
- [x] `uv run pytest -v` を実行し、すべてのテストがパスすることを確認する。
